<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bilbao Underground Explorer</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Courier New',monospace;background:#000;color:#0f0;line-height:1.6}
.container{max-width:1600px;margin:0 auto;padding:20px}
header{text-align:center;padding:30px;border-bottom:3px solid #0f0;margin-bottom:30px}
h1{font-size:2.5em;text-shadow:0 0 20px #0f0;margin-bottom:10px}
.subtitle{color:#0a0;font-size:1.1em}
.upload-area{background:#111;border:2px dashed #0f0;padding:40px;text-align:center;margin-bottom:30px}
.upload-area.loaded{display:none}
#fileInput{padding:10px 20px;background:#0f0;color:#000;border:none;font-family:'Courier New',monospace;font-size:1em;cursor:pointer;font-weight:bold}
.main-content{display:none}
.main-content.active{display:block}
.controls{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap;align-items:center}
.tabs{display:flex;gap:10px;flex:1}
.tab{padding:12px 24px;background:#111;border:2px solid #0f0;color:#0f0;cursor:pointer;font-size:1em;font-family:'Courier New',monospace;font-weight:bold;transition:all 0.3s}
.tab:hover{background:#0f0;color:#000;box-shadow:0 0 10px #0f0}
.tab.active{background:#0f0;color:#000}
.random-btn{padding:12px 30px;background:#f00;border:2px solid #f00;color:#000;cursor:pointer;font-size:1.1em;font-family:'Courier New',monospace;font-weight:bold;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 5px #f00}50%{box-shadow:0 0 20px #f00}}
.search{width:100%;padding:15px;background:#111;border:2px solid #0f0;color:#0f0;font-family:'Courier New',monospace;font-size:1em;margin-bottom:20px}
.content-area{display:grid;grid-template-columns:350px 1fr;gap:30px}
.sidebar{background:#111;border:2px solid #0f0;padding:20px;max-height:80vh;overflow-y:auto}
.list-item{padding:10px;border-bottom:1px solid #0f0;cursor:pointer;transition:all 0.2s}
.list-item:hover{background:#0f0;color:#000;padding-left:20px}
.detail-area{background:#111;border:2px solid #0f0;padding:30px;min-height:500px}
.album-title{font-size:2em;color:#0ff;margin-bottom:10px;text-shadow:0 0 10px #0ff}
.album-artist{font-size:1.5em;color:#0f0;margin-bottom:20px}
.album-meta{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:30px}
.meta-item{background:#000;padding:15px;border:1px solid #0f0}
.meta-label{color:#0a0;font-size:0.9em;margin-bottom:5px}
.meta-value{color:#0f0;font-size:1.1em;font-weight:bold}
.section-title{font-size:1.3em;color:#0f0;border-bottom:2px solid #0f0;padding-bottom:10px;margin-bottom:15px}
.tag-cloud{display:flex;flex-wrap:wrap;gap:10px}
.tag{padding:8px 16px;background:#000;border:1px solid #0f0;color:#0f0;cursor:pointer;transition:all 0.3s}
.tag:hover{background:#0f0;color:#000;transform:scale(1.05)}
.bandcamp-btn{display:inline-block;padding:15px 40px;background:#0f0;color:#000;text-decoration:none;font-weight:bold;font-size:1.2em;margin-top:20px;transition:all 0.3s}
.related-section{margin-top:30px;padding-top:30px;border-top:2px solid #0f0}
.related-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:15px;margin-top:15px}
.related-album{background:#000;border:1px solid #0f0;padding:15px;cursor:pointer;transition:all 0.3s}
.related-album:hover{border-color:#0ff;box-shadow:0 0 10px #0f0;transform:translateY(-2px)}
.related-album-title{color:#0ff;font-weight:bold;margin-bottom:5px}
.related-album-artist{color:#0a0;font-size:0.9em}
.empty-state{text-align:center;padding:60px;color:#0a0;font-size:1.2em}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-bottom:30px}
.stat-box{background:#111;border:2px solid #0f0;padding:20px;text-align:center}
.stat-value{font-size:2.5em;color:#0f0;font-weight:bold;text-shadow:0 0 10px #0f0}
.stat-label{color:#0a0;margin-top:5px}
@media(max-width:1024px){.content-area{grid-template-columns:1fr}.stats{grid-template-columns:repeat(2,1fr)}}
</style>
</head>
<body>
<div class="container">
<header>
<h1>‚ñ∂ BILBAO UNDERGROUND EXPLORER ‚óÄ</h1>
<div class="subtitle">Navega 2,396 √°lbumes de la escena underground</div>
</header>
<div class="upload-area" id="uploadArea">
<h2 style="margin-bottom:20px;color:#0f0">‚ñ∂ CARGAR DATOS</h2>
<p style="margin-bottom:20px;color:#0a0">Selecciona el archivo explorer_simple.json</p>
<input type="file" id="fileInput" accept=".json">
</div>
<div class="main-content" id="mainContent">
<div class="stats">
<div class="stat-box"><div class="stat-value" id="statAlbums">0</div><div class="stat-label">√ÅLBUMES</div></div>
<div class="stat-box"><div class="stat-value" id="statArtists">0</div><div class="stat-label">ARTISTAS</div></div>
<div class="stat-box"><div class="stat-value" id="statTags">0</div><div class="stat-label">TAGS</div></div>
<div class="stat-box"><div class="stat-value" id="statYears">0</div><div class="stat-label">A√ëOS</div></div>
</div>
<div class="controls">
<div class="tabs">
<button class="tab active" data-tab="artistas">ARTISTAS</button>
<button class="tab" data-tab="tags">TAGS</button>
<button class="tab" data-tab="albums">√ÅLBUMES</button>
<button class="tab" data-tab="years">A√ëOS</button>
</div>
<button class="random-btn" id="randomBtn">üé≤ RANDOM</button>
</div>
<input type="text" class="search" id="search" placeholder="‚ñ∂ Buscar...">
<div class="content-area">
<div class="sidebar" id="sidebar"></div>
<div class="detail-area" id="detailArea"><div class="empty-state">‚óÄ Selecciona algo de la izquierda o pulsa RANDOM</div></div>
</div>
</div>
</div>
<script>
let DATA=null,currentTab='artistas',filteredItems=[];
document.getElementById('fileInput').addEventListener('change',function(e){
const file=e.target.files[0];if(!file)return;
const reader=new FileReader();
reader.onload=function(event){try{DATA=JSON.parse(event.target.result);init()}catch(err){alert('Error: '+err.message)}};
reader.readAsText(file)
});
function init(){
document.getElementById('uploadArea').classList.add('loaded');
document.getElementById('mainContent').classList.add('active');
document.getElementById('statAlbums').textContent=DATA.albums.length;
document.getElementById('statArtists').textContent=DATA.artists.length;
document.getElementById('statTags').textContent=DATA.tags.length;
document.getElementById('statYears').textContent=DATA.years.length;
loadTab('artistas')
}
document.querySelectorAll('.tab').forEach(tab=>{
tab.addEventListener('click',function(){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
this.classList.add('active');currentTab=this.dataset.tab;loadTab(currentTab)
})
});
function loadTab(tab){
const sidebar=document.getElementById('sidebar');
document.getElementById('search').value='';
if(tab==='artistas'){
filteredItems=[...DATA.artists];
renderList(filteredItems,(item)=>`${item} (${getArtistAlbumCount(item)})`)
}else if(tab==='tags'){
filteredItems=[...DATA.tags];
renderList(filteredItems,(item)=>`${item} (${getTagCount(item)})`)
}else if(tab==='albums'){
filteredItems=[...DATA.albums];
sidebar.innerHTML=filteredItems.map(album=>`<div class="list-item" onclick="showAlbum(${album.id})">${album.artist} - ${album.title}</div>`).join('')
}else if(tab==='years'){
filteredItems=[...DATA.years].reverse();
renderList(filteredItems,(item)=>`${item} (${getYearCount(item)})`)
}
}
function renderList(items,formatter){
const sidebar=document.getElementById('sidebar');
sidebar.innerHTML=items.map(item=>`<div class="list-item" onclick="handleItemClick('${escapeHtml(item)}')">${formatter(item)}</div>`).join('')
}
function handleItemClick(item){
if(currentTab==='artistas')showArtistAlbums(item);
else if(currentTab==='tags')showTagAlbums(item);
else if(currentTab==='years')showYearAlbums(parseInt(item))
}
function getArtistAlbumCount(artist){return DATA.albums.filter(a=>a.artist===artist).length}
function getTagCount(tag){return DATA.albums.filter(a=>a.tags.includes(tag)).length}
function getYearCount(year){return DATA.albums.filter(a=>a.year===year).length}
document.getElementById('search').addEventListener('input',function(e){
const q=e.target.value.toLowerCase();
if(currentTab==='artistas'){
filteredItems=DATA.artists.filter(a=>a.toLowerCase().includes(q));
renderList(filteredItems,(item)=>`${item} (${getArtistAlbumCount(item)})`)
}else if(currentTab==='tags'){
filteredItems=DATA.tags.filter(t=>t.toLowerCase().includes(q));
renderList(filteredItems,(item)=>`${item} (${getTagCount(item)})`)
}else if(currentTab==='albums'){
filteredItems=DATA.albums.filter(a=>a.title.toLowerCase().includes(q)||a.artist.toLowerCase().includes(q));
const sidebar=document.getElementById('sidebar');
sidebar.innerHTML=filteredItems.map(album=>`<div class="list-item" onclick="showAlbum(${album.id})">${album.artist} - ${album.title}</div>`).join('')
}else if(currentTab==='years'){
filteredItems=DATA.years.filter(y=>y.toString().includes(q));
renderList(filteredItems,(item)=>`${item} (${getYearCount(item)})`)
}
});
document.getElementById('randomBtn').addEventListener('click',function(){
const randomAlbum=DATA.albums[Math.floor(Math.random()*DATA.albums.length)];
showAlbum(randomAlbum.id)
});
function showAlbum(albumId){
const album=DATA.albums.find(a=>a.id===albumId);if(!album)return;
const detail=document.getElementById('detailArea');
let html=`<div class="album-detail"><div class="album-title">${album.title}</div><div class="album-artist">${album.artist}</div><div class="album-meta">
<div class="meta-item"><div class="meta-label">G√âNERO</div><div class="meta-value">${album.genre}</div></div>
<div class="meta-item"><div class="meta-label">A√ëO</div><div class="meta-value">${album.year||'?'}</div></div>
<div class="meta-item"><div class="meta-label">TAGS</div><div class="meta-value">${album.tags.length}</div></div></div>`;
if(album.tags.length>0){
html+=`<div class="tags-section"><div class="section-title">‚ñ∂ TAGS</div><div class="tag-cloud">
${album.tags.map(tag=>`<span class="tag" onclick="showTagAlbums('${escapeHtml(tag)}')">${tag}</span>`).join('')}</div></div>`
}
if(album.url)html+=`<a href="${album.url}" target="_blank" class="bandcamp-btn">‚ñ∂ ABRIR EN BANDCAMP</a>`;
const sameArtist=DATA.albums.filter(a=>a.artist===album.artist&&a.id!==album.id).slice(0,6);
if(sameArtist.length>0){
html+=`<div class="related-section"><div class="section-title">‚ñ∂ M√ÅS DE ${album.artist}</div><div class="related-grid">
${sameArtist.map(a=>`<div class="related-album" onclick="showAlbum(${a.id})"><div class="related-album-title">${a.title}</div>
<div class="related-album-artist">${a.year||'?'}</div></div>`).join('')}</div></div>`
}
if(album.tags.length>0){
const sameTags=DATA.albums.filter(a=>a.id!==album.id&&a.tags.some(t=>album.tags.includes(t))).slice(0,6);
if(sameTags.length>0){
html+=`<div class="related-section"><div class="section-title">‚ñ∂ √ÅLBUMES SIMILARES</div><div class="related-grid">
${sameTags.map(a=>`<div class="related-album" onclick="showAlbum(${a.id})"><div class="related-album-title">${a.title}</div>
<div class="related-album-artist">${a.artist}</div></div>`).join('')}</div></div>`
}
}
html+='</div>';detail.innerHTML=html
}
function showArtistAlbums(artist){
const albums=DATA.albums.filter(a=>a.artist===artist);
const detail=document.getElementById('detailArea');
let html=`<div class="section-title">‚ñ∂ ${artist}</div><p style="color:#0a0;margin-bottom:30px">${albums.length} √°lbumes</p><div class="related-grid">
${albums.map(a=>`<div class="related-album" onclick="showAlbum(${a.id})"><div class="related-album-title">${a.title}</div>
<div class="related-album-artist">${a.year||'?'} ‚Ä¢ ${a.genre}</div></div>`).join('')}</div>`;
detail.innerHTML=html
}
function showTagAlbums(tag){
const albums=DATA.albums.filter(a=>a.tags.includes(tag));
const detail=document.getElementById('detailArea');
let html=`<div class="section-title">‚ñ∂ TAG: ${tag}</div><p style="color:#0a0;margin-bottom:30px">${albums.length} √°lbumes</p><div class="related-grid">
${albums.slice(0,20).map(a=>`<div class="related-album" onclick="showAlbum(${a.id})"><div class="related-album-title">${a.title}</div>
<div class="related-album-artist">${a.artist}</div></div>`).join('')}</div>`;
detail.innerHTML=html
}
function showYearAlbums(year){
const albums=DATA.albums.filter(a=>a.year===year);
const detail=document.getElementById('detailArea');
let html=`<div class="section-title">‚ñ∂ A√ëO: ${year}</div><p style="color:#0a0;margin-bottom:30px">${albums.length} √°lbumes</p><div class="related-grid">
${albums.map(a=>`<div class="related-album" onclick="showAlbum(${a.id})"><div class="related-album-title">${a.title}</div>
<div class="related-album-artist">${a.artist}</div></div>`).join('')}</div>`;
detail.innerHTML=html
}
function escapeHtml(text){return text.replace(/'/g,"\\'")}
</script>
</body>
</html>
